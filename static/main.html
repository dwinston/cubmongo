<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Time Series Visualization of FireWorks Databases</title>
</head>
<style>
@import url(//fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,700);
@import url(https://square.github.io/cubism/style.css);
</style>
<body>

<h2>
  <img src='https://materialsproject.org/static/images/Logo/Mp-logo-v5.ad467cf84f15.png'
       style="width:100px;vertical-align:middle;">
  Time Series Visualization of MongoDB Databases
</h2>
<div id="elastic"></div>
<div id="structure_1" style="width:300px;height:300px"></div>
<div id="structure_2" style="width:300px;height:300px"></div>
<script src="https://d3js.org/d3.v2.min.js"></script>
<script src="/cubism"></script>
<script src="http://square.github.io/cubism/highlight.min.js"></script>
<script src="/structureViewer"></script>
<script>
var formatDate = d3.time.format.iso;

function mongometric(name, db, collection, timefield, expression) {

  return context.metric(function(start, stop, step, callback) {
    d3.json("/mongometric"
      + "?db=" + db
      + "&collection=" + collection
      + "&filter=" + encodeURIComponent(expression || "{}")
      + "&timefield=" + timefield
      + "&start=" + formatDate(start)
      + "&stop=" + formatDate(stop)
      + "&step=" + step, function(data) {
      if (!data) return callback(new Error("unable to load data"));
      callback(null, data);
    });
  }, name);
};
</script>
<script>
  //var now = new Date();
  //var now_utc = new Date(
  //  now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(),
  //  now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds());
  var context = cubism.context()
  //.serverDelay(new Date(Date.UTC(2017,11,22,1,44)) - now_utc) // allow 7 days of collection lag
  //.serverDelay((8 * 24 + 20) * 60 * 60 * 1000)
  .clientDelay(3 * 1000)
  //.step(1 * 60 * 60 * 1000)
    .step(5 * 1000)
    //.advance(5 * 1000) // five seconds per step fetch
    .size(960);


  function metrics_fireworks(name, db) {
    return [
      mongometric(name+" fireworks created",
        db, "fireworks", "created_on"),
      mongometric(name+" fireworks updated",
        db, "fireworks", "updated_on"),
      mongometric(name+" workflows created",
        db, "workflows", "created_on"),
      mongometric(name+" workflows updated",
        db, "workflows", "updated_on"),
      //mongometric(name+" launches started",
      //  db, "launches", "time_start"),
      //mongometric(name+" launches ended",
      //  db, "launches", "time_end")
    ];
  }

  var metrics = metrics_fireworks("core", "core")
    .concat(metrics_fireworks("elastic", "elastic"))
    .concat(metrics_fireworks("SCAN", "SCAN"))

  d3.select("#elastic").call(function(div) {

  div.append("div")
      .attr("class", "axis")
      .call(context.axis().orient("top"));

  div.selectAll(".horizon")
      .data(metrics)
    .enter().append("div")
      .attr("class", "horizon")
      .call(context.horizon().extent([0, 5]));

  div.append("div")
      .attr("class", "rule")
      .call(context.rule());

});

// On mousemove, reposition the chart values to match the rule.
context.on("focus", function(i) {
  d3.selectAll(".value").style("right", i == null ? null : context.size() - i + "px");
});

payload = d3.json("/recent_structures")

// payload = {"atoms": [{"type": "sphere", "idx": 0, "position": [-2.8943817000000003, -2.046636925, -5.01321616], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 1, "position": [-2.8943817000000003, -2.046636925, 0.0], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 2, "position": [-1.4471908500000001, 2.0466369250000005, -2.5066080799999995], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 3, "position": [-1.4471908500000001, 2.0466369250000005, 2.5066080799999995], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 4, "position": [1.4471908500000001, -2.046636925, -2.5066080799999995], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 5, "position": [1.4471908500000001, -2.046636925, 2.5066080799999995], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 6, "position": [2.8943817000000003, 2.0466369250000005, 0.0], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 7, "position": [2.8943817000000003, 2.0466369250000005, 5.013216160000001], "bond_color": [212, 122, 0], "fragments": [{"radius": 1.2933333333333332, "color": [212, 122, 0], "name": "Te", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 8, "position": [-5.788763400000001, -4.09327385, -10.02643232], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 9, "position": [-5.788763400000001, -4.09327385, -5.01321616], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 10, "position": [-5.788763400000001, -4.09327385, 0.0], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 11, "position": [-4.34157255, 0.0, -7.51982424], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 12, "position": [-4.34157255, 0.0, -2.5066080799999995], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 13, "position": [-4.34157255, 0.0, 2.5066080799999995], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 14, "position": [-2.8943817000000007, 4.09327385, -5.01321616], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 15, "position": [-2.8943817000000007, 4.09327385, 0.0], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 16, "position": [-2.8943817000000007, 4.09327385, 5.013216160000001], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 17, "position": [-1.4471908500000001, -4.09327385, -7.51982424], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 18, "position": [-1.4471908500000001, -4.09327385, -2.5066080799999995], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 19, "position": [-1.4471908500000001, -4.09327385, 2.5066080799999995], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 20, "position": [0.0, 0.0, -5.01321616], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 21, "position": [0.0, 0.0, 0.0], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 22, "position": [0.0, 0.0, 5.013216160000001], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 23, "position": [1.4471908500000001, 4.09327385, -2.5066080799999995], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 24, "position": [1.4471908500000001, 4.09327385, 2.5066080800000012], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 25, "position": [1.4471908500000001, 4.09327385, 7.51982424], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 26, "position": [2.8943817000000003, -4.09327385, -5.01321616], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 27, "position": [2.8943817000000003, -4.09327385, 0.0], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 28, "position": [2.8943817000000003, -4.09327385, 5.013216160000001], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 29, "position": [4.34157255, 0.0, -2.5066080799999995], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 30, "position": [4.34157255, 0.0, 2.5066080800000012], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 31, "position": [4.34157255, 0.0, 7.51982424], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 32, "position": [5.788763400000001, 4.09327385, 0.0], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 33, "position": [5.788763400000001, 4.09327385, 5.013216160000001], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}, {"type": "sphere", "idx": 34, "position": [5.788763400000001, 4.09327385, 10.02643232], "bond_color": [0, 201, 0], "fragments": [{"radius": 1.49, "color": [0, 201, 0], "name": "Ba", "phi_start": 0.0, "phi_end": 6.283185307179586}], "vectors": null, "matrices": null}], "bonds": [{"from_atom_index": 3, "to_atom_index": 16}, {"from_atom_index": 30, "to_atom_index": 7}, {"from_atom_index": 33, "to_atom_index": 7}, {"from_atom_index": 21, "to_atom_index": 2}, {"from_atom_index": 0, "to_atom_index": 20}, {"from_atom_index": 2, "to_atom_index": 12}, {"from_atom_index": 6, "to_atom_index": 21}, {"from_atom_index": 21, "to_atom_index": 5}, {"from_atom_index": 6, "to_atom_index": 32}, {"from_atom_index": 0, "to_atom_index": 9}, {"from_atom_index": 5, "to_atom_index": 22}, {"from_atom_index": 3, "to_atom_index": 13}, {"from_atom_index": 25, "to_atom_index": 7}, {"from_atom_index": 10, "to_atom_index": 1}, {"from_atom_index": 21, "to_atom_index": 4}, {"from_atom_index": 0, "to_atom_index": 18}, {"from_atom_index": 30, "to_atom_index": 5}, {"from_atom_index": 2, "to_atom_index": 14}, {"from_atom_index": 3, "to_atom_index": 21}, {"from_atom_index": 4, "to_atom_index": 29}, {"from_atom_index": 19, "to_atom_index": 1}, {"from_atom_index": 6, "to_atom_index": 29}, {"from_atom_index": 24, "to_atom_index": 7}, {"from_atom_index": 31, "to_atom_index": 7}, {"from_atom_index": 3, "to_atom_index": 22}, {"from_atom_index": 4, "to_atom_index": 18}, {"from_atom_index": 28, "to_atom_index": 5}, {"from_atom_index": 15, "to_atom_index": 2}, {"from_atom_index": 11, "to_atom_index": 0}, {"from_atom_index": 27, "to_atom_index": 5}, {"from_atom_index": 6, "to_atom_index": 24}, {"from_atom_index": 21, "to_atom_index": 1}, {"from_atom_index": 4, "to_atom_index": 27}, {"from_atom_index": 4, "to_atom_index": 20}, {"from_atom_index": 18, "to_atom_index": 1}, {"from_atom_index": 6, "to_atom_index": 30}, {"from_atom_index": 0, "to_atom_index": 17}, {"from_atom_index": 13, "to_atom_index": 1}, {"from_atom_index": 26, "to_atom_index": 4}, {"from_atom_index": 7, "to_atom_index": 22}, {"from_atom_index": 12, "to_atom_index": 1}, {"from_atom_index": 23, "to_atom_index": 2}, {"from_atom_index": 3, "to_atom_index": 24}, {"from_atom_index": 0, "to_atom_index": 12}, {"from_atom_index": 20, "to_atom_index": 2}, {"from_atom_index": 3, "to_atom_index": 15}, {"from_atom_index": 19, "to_atom_index": 5}, {"from_atom_index": 6, "to_atom_index": 23}], "polyhedra": {"polyhedra_by_type": {"Te-centered": [{"type": "convex", "points_idx": [16, 13, 21, 22, 24, 15], "points": [[-2.8943817000000007, 4.09327385, 5.013216160000001], [-4.34157255, 0.0, 2.5066080799999995], [0.0, 0.0, 0.0], [0.0, 0.0, 5.013216160000001], [1.4471908500000001, 4.09327385, 2.5066080800000012], [-2.8943817000000007, 4.09327385, 0.0]], "hull": [[3, 0, 1], [2, 3, 1], [5, 0, 1], [2, 5, 1], [3, 0, 4], [2, 3, 4], [5, 0, 4], [2, 5, 4]], "center": 3}, {"type": "convex", "points_idx": [30, 33, 25, 24, 31, 22], "points": [[4.34157255, 0.0, 2.5066080800000012], [5.788763400000001, 4.09327385, 5.013216160000001], [1.4471908500000001, 4.09327385, 7.51982424], [1.4471908500000001, 4.09327385, 2.5066080800000012], [4.34157255, 0.0, 7.51982424], [0.0, 0.0, 5.013216160000001]], "hull": [[3, 0, 5], [4, 0, 5], [2, 3, 5], [4, 2, 5], [3, 0, 1], [4, 0, 1], [2, 3, 1], [4, 2, 1]], "center": 7}, {"type": "convex", "points_idx": [21, 12, 14, 15, 23, 20], "points": [[0.0, 0.0, 0.0], [-4.34157255, 0.0, -2.5066080799999995], [-2.8943817000000007, 4.09327385, -5.01321616], [-2.8943817000000007, 4.09327385, 0.0], [1.4471908500000001, 4.09327385, -2.5066080799999995], [0.0, 0.0, -5.01321616]], "hull": [[5, 2, 1], [3, 2, 1], [0, 5, 1], [3, 0, 1], [5, 2, 4], [3, 2, 4], [0, 5, 4], [3, 0, 4]], "center": 2}, {"type": "convex", "points_idx": [20, 9, 18, 11, 17, 12], "points": [[0.0, 0.0, -5.01321616], [-5.788763400000001, -4.09327385, -5.01321616], [-1.4471908500000001, -4.09327385, -2.5066080799999995], [-4.34157255, 0.0, -7.51982424], [-1.4471908500000001, -4.09327385, -7.51982424], [-4.34157255, 0.0, -2.5066080799999995]], "hull": [[4, 2, 1], [5, 2, 1], [3, 4, 1], [5, 3, 1], [4, 2, 0], [5, 2, 0], [3, 4, 0], [5, 3, 0]], "center": 0}, {"type": "convex", "points_idx": [21, 32, 29, 24, 30, 23], "points": [[0.0, 0.0, 0.0], [5.788763400000001, 4.09327385, 0.0], [4.34157255, 0.0, -2.5066080799999995], [1.4471908500000001, 4.09327385, 2.5066080800000012], [4.34157255, 0.0, 2.5066080800000012], [1.4471908500000001, 4.09327385, -2.5066080799999995]], "hull": [[4, 3, 0], [5, 3, 0], [2, 4, 0], [5, 2, 0], [4, 3, 1], [5, 3, 1], [2, 4, 1], [5, 2, 1]], "center": 6}, {"type": "convex", "points_idx": [21, 22, 30, 28, 27, 19], "points": [[0.0, 0.0, 0.0], [0.0, 0.0, 5.013216160000001], [4.34157255, 0.0, 2.5066080800000012], [2.8943817000000003, -4.09327385, 5.013216160000001], [2.8943817000000003, -4.09327385, 0.0], [-1.4471908500000001, -4.09327385, 2.5066080799999995]], "hull": [[1, 0, 5], [4, 0, 5], [3, 1, 5], [4, 3, 5], [1, 0, 2], [4, 0, 2], [3, 1, 2], [4, 3, 2]], "center": 5}, {"type": "convex", "points_idx": [10, 19, 21, 18, 13, 12], "points": [[-5.788763400000001, -4.09327385, 0.0], [-1.4471908500000001, -4.09327385, 2.5066080799999995], [0.0, 0.0, 0.0], [-1.4471908500000001, -4.09327385, -2.5066080799999995], [-4.34157255, 0.0, 2.5066080799999995], [-4.34157255, 0.0, -2.5066080799999995]], "hull": [[3, 1, 0], [5, 3, 0], [4, 1, 0], [5, 4, 0], [3, 1, 2], [5, 3, 2], [4, 1, 2], [5, 4, 2]], "center": 1}, {"type": "convex", "points_idx": [21, 29, 18, 27, 20, 26], "points": [[0.0, 0.0, 0.0], [4.34157255, 0.0, -2.5066080799999995], [-1.4471908500000001, -4.09327385, -2.5066080799999995], [2.8943817000000003, -4.09327385, 0.0], [0.0, 0.0, -5.01321616], [2.8943817000000003, -4.09327385, -5.01321616]], "hull": [[4, 0, 2], [3, 0, 2], [5, 4, 2], [3, 5, 2], [4, 0, 1], [3, 0, 1], [5, 4, 1], [3, 5, 1]], "center": 4}], "Ba-centered": [{"type": "convex", "points_idx": [2, 6, 5, 4, 3, 1], "points": [[-1.4471908500000001, 2.0466369250000005, -2.5066080799999995], [2.8943817000000003, 2.0466369250000005, 0.0], [1.4471908500000001, -2.046636925, 2.5066080799999995], [1.4471908500000001, -2.046636925, -2.5066080799999995], [-1.4471908500000001, 2.0466369250000005, 2.5066080799999995], [-2.8943817000000003, -2.046636925, 0.0]], "hull": [[3, 0, 5], [4, 0, 5], [2, 3, 5], [4, 2, 5], [3, 0, 1], [4, 0, 1], [2, 3, 1], [4, 2, 1]], "center": 21}]}, "polyhedra_types": ["Te-centered", "Ba-centered"], "default_polyhedra_types": ["Te-centered"]}, "unit_cell": {"type": "lines", "lines": [[-5.788763400000001, -4.09327385, -10.02643232], [-1.4471908500000001, -4.09327385, -7.51982424], [-5.788763400000001, -4.09327385, -10.02643232], [-4.34157255, 0.0, -7.51982424], [-5.788763400000001, -4.09327385, -10.02643232], [-5.788763400000001, -4.09327385, -5.01321616], [-1.4471908500000001, -4.09327385, -7.51982424], [-2.220446049250313e-16, 0.0, -5.013216160000001], [-1.4471908500000001, -4.09327385, -7.51982424], [-1.4471908500000001, -4.09327385, -2.5066080800000003], [-4.34157255, 0.0, -7.51982424], [0.0, 0.0, -5.013216160000001], [-4.34157255, 0.0, -7.51982424], [-4.34157255, 0.0, -2.5066080800000003], [-5.788763400000001, -4.09327385, -5.01321616], [-1.4471908500000001, -4.09327385, -2.50660808], [-5.788763400000001, -4.09327385, -5.01321616], [-4.34157255, 0.0, -2.50660808], [-2.220446049250313e-16, 0.0, -5.013216160000001], [-2.220446049250313e-16, 0.0, -8.881784197001252e-16], [-1.4471908500000001, -4.09327385, -2.5066080800000003], [-2.220446049250313e-16, 0.0, -8.881784197001252e-16], [-4.34157255, 0.0, -2.5066080800000003], [-2.220446049250313e-16, 0.0, -8.881784197001252e-16]]}, "color_legend": {"#d47a00": "Te", "#00c900": "Ba"}, "site_props": {"scalar": ["coordination_no"]}}

sv_1 = new StructureViewer(payload[0], document.getElementById("structure_1"))
sv_2 = new StructureViewer(payload[1], document.getElementById("structure_2"))
</script>
</body>
</html>
